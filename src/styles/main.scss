$cell-size: 14vmin;
$cell-gap: 1.9vmin;
$border-radius: 0.95vmin;
$cell-total: $cell-size + $cell-gap;
$font-size: 3vmin;
$light-grey: #d6cdc4;
$dark-grey: #776e65;
$white: #f9f6f2;
$yellow: #edc22e;

body {
  margin: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  background: #fbf8ef;
  font-family: sans-serif;
  font-weight: 900;
}

.field {
  &-cell {
    background: $light-grey;
    border-radius: $border-radius;
    box-sizing: border-box;
    text-align: center;
    vertical-align: middle;
    user-select: none;
  }

  &-tile {
    position: absolute;
    top: calc(var(--y) * #{$cell-total});
    left: calc(var(--x) * #{$cell-total});
    display: flex;
    justify-content: center;
    align-items: center;
    height: $cell-size;
    width: $cell-size;
    color: $dark-grey;
    font-size: $font-size * 2;
    transition: 0.1s;
    animation: show 0.2s;

    @each $value,
      $color
        in (
          2: #eee4da,
          4: #ede0c8,
          8: #f2b179,
          16: #f59563,
          32: #f67c5f,
          64: #f65e3b,
          128: #edcf72,
          256: #edcc61,
          512: #edc850,
          1024: #edc53f,
          2048: $yellow
        )
    {
      &--#{$value} {
        background: $color;

        @if $value > 4 {
          color: $white;
        }
      }
    }
  }

  &-container {
    position: relative;
    display: grid;
    grid-template-columns: repeat(4, $cell-size);
    grid-template-rows: repeat(4, $cell-size);
    gap: $cell-gap;
  }
}

.game {
  &-field {
    background: #bbada0;
    border: $cell-gap solid #bbada0;
    border-radius: $border-radius;
  }

  &-header {
    display: flex;
    width: 100%;
    justify-content: space-between;
    margin-bottom: 1.6vmin;
    padding: 1.5vmin;
    box-sizing: border-box;
  }
}

h1 {
  background: $yellow;
  color: $white;
  width: $cell-size;
  height: $cell-size;
  font-size: 4.6vmin;
  border-radius: $border-radius;
  display: flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
  margin: 0;
}

.info {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background: $light-grey;
  width: $cell-size;
  height: $cell-size;
  border-radius: $border-radius;
  color: $dark-grey;
  box-sizing: border-box;
  font-size: $font-size;
  margin: 0 1.5vmin 0 0;
}

.controls {
  display: flex;
}

.button {
  padding: 0;
  border: none;
  border-radius: $border-radius;
  cursor: pointer;
  color: $white;
  font-family: sans-serif;
  font-weight: 700;
  font-size: $font-size;
  width: $cell-size;
  height: $cell-size;

  transition: 0.25s ease background;

  &:active {
    transform: scale(0.95);
  }
}

.start {
  background: #1dae28;

  &:hover {
    background: #179921;
  }
  &:focus {
    outline: none;
  }
}

.restart {
  background: #f1b2b2;

  &:hover {
    background: #f87474;
  }
  &:focus {
    outline: none;
  }
}

.hidden {
  display: none;
}

.container {
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 63vmin;
}

.message {
  box-sizing: border-box;
  width: 100%;
  background: $light-grey;
  color: $dark-grey;
  padding: $cell-gap;
  text-align: center;
  border-radius: $border-radius;
  font-size: $font-size;

  &-win {
    background: $yellow;
    color: $white;
  }

  &-container {
    width: 100%;
    height: $cell-total;
  }
}

@keyframes show {
  0% {
    opacity: 0.5;
    transform: scale(0);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}
